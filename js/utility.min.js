let bgImage = ""

function writeAge() {
  (yearOfBirth = 1997),
    (actualYear = new Date().getFullYear()),
    (actualAge = actualYear - yearOfBirth),
    (document.getElementById("age").innerHTML = actualAge);
}
function writeYear() {
      (actualYear = new Date().getFullYear()),
      (document.getElementById("year-header").innerHTML = actualYear);
      (document.getElementById("year-footer").innerHTML = actualYear);

  }
function selectHeaderBackground() {
  bgImage = "bg-" + Math.floor(11 * Math.random() + 1) + ".jpg";
  header = document.getElementById("header")
  header.style.backgroundImage = "url(./images/" + bgImage + ")"

  downloadImageLink = document.getElementById("download-image-link")

  downloadImageLink.addEventListener("click", downloadFullResImage);
  header.addEventListener("click", downloadFullResImage);

}

function downloadFullResImage() {
    console.log(bgImage)
    window.open( "images/full-" + bgImage)
  }

window.addEventListener("load", function () {
  writeAge(), writeYear(), selectHeaderBackground();
});
var navbar = $("#navbar"),
  navbarContainer = $("#navbar-container"),
  header = $("#navbar").offset().top,
  about = $("#about-me").offset().top;
$(window).scroll(function () {
  $(this).scrollTop() > header
    ? navbar.addClass("static-top fixed-top container p-2 ")
    : navbar.removeClass("static-top fixed-top container p-2"),
    $(this).scrollTop() > about
      ? navbarContainer.addClass("container-fluid bg-secondary")
      : navbarContainer.removeClass("container-fluid bg-secondary");
}),
  document.querySelectorAll("a").forEach((e) => {
    e.addEventListener("click", () => {
      setTimeout(() => {
        history.pushState("", document.title, window.location.pathname);
      }, 100);
    });
  }),
  $("#buttonProExperience").on("click", function () {
    $("#experience").addClass("d-none"),
      $("#pro-experience").removeClass("d-none"),
      $("#buttonProExperience").removeClass("title-tab"),
      $("#buttonProExperience").addClass("title-tab-active"),
      $("#buttonExperience").addClass("title-tab"),
      $("#buttonExperience").removeClass("title-tab-active"),
      $("#refreshExp").attr("showing", "pro"),
      $("#refreshExp").prop("checked", !1);
  }),
  $("#buttonExperience").on("click", function () {
    $("#pro-experience").addClass("d-none"),
      $("#experience").removeClass("d-none"),
      $("#buttonExperience").removeClass("title-tab"),
      $("#buttonExperience").addClass("title-tab-active"),
      $("#buttonProExperience").addClass("title-tab"),
      $("#buttonProExperience").removeClass("title-tab-active"),
      $("#refreshExp").attr("showing", "personal"),
      $("#refreshExp").prop("checked", !0);
  }),
  $("#refreshExp").on("change", function () {
    "pro" == this.getAttribute("showing")
      ? ($("#pro-experience").addClass("d-none"),
        $("#experience").removeClass("d-none"),
        $("#buttonExperience").removeClass("title-tab"),
        $("#buttonExperience").addClass("title-tab-active"),
        $("#buttonProExperience").addClass("title-tab"),
        $("#buttonProExperience").removeClass("title-tab-active"),
        $("#refreshExp").attr("showing", "personal"),
        console.log(this))
      : ($("#pro-experience").removeClass("d-none"),
        $("#experience").addClass("d-none"),
        $("#buttonProExperience").removeClass("title-tab"),
        $("#buttonProExperience").addClass("title-tab-active"),
        $("#buttonExperience").addClass("title-tab"),
        $("#buttonExperience").removeClass("title-tab-active"),
        $("#refreshExp").attr("showing", "pro"),
        console.log(this));
  });
